(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{126:function(e,a,t){"use strict";t.d(a,"a",(function(){return b}));var n=t(0),r=t.n(n);function i(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function o(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function s(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?o(Object(t),!0).forEach((function(a){i(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function l(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var c=r.a.createContext({}),d=function(e){var a=r.a.useContext(c),t=a;return e&&(t="function"==typeof e?e(a):s(s({},a),e)),t},p={inlineCode:"code",wrapper:function(e){var a=e.children;return r.a.createElement(r.a.Fragment,{},a)}},m=r.a.forwardRef((function(e,a){var t=e.components,n=e.mdxType,i=e.originalType,o=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),m=d(t),b=n,g=m["".concat(o,".").concat(b)]||m[b]||p[b]||i;return t?r.a.createElement(g,s(s({ref:a},c),{},{components:t})):r.a.createElement(g,s({ref:a},c))}));function b(e,a){var t=arguments,n=a&&a.mdxType;if("string"==typeof e||n){var i=t.length,o=new Array(i);o[0]=m;var s={};for(var l in a)hasOwnProperty.call(a,l)&&(s[l]=a[l]);s.originalType=e,s.mdxType="string"==typeof e?e:n,o[1]=s;for(var c=2;c<i;c++)o[c]=t[c];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},89:function(e,a,t){"use strict";t.r(a),t.d(a,"frontMatter",(function(){return o})),t.d(a,"metadata",(function(){return s})),t.d(a,"toc",(function(){return l})),t.d(a,"default",(function(){return d}));var n=t(3),r=t(7),i=(t(0),t(126)),o={sidebar_position:3},s={unversionedId:"Version 1: March 2022/data",id:"Version 1: March 2022/data",isDocsHomePage:!1,title:"Data",description:"Access",source:"@site/docs/Version 1: March 2022/data.md",sourceDirName:"Version 1: March 2022",slug:"/Version 1: March 2022/data",permalink:"/CoastTrain/docs/Version 1: March 2022/data",editUrl:"https://github.com/dbuscombe-usgs/CoastTrain/edit/master/website/docs/Version 1: March 2022/data.md",version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Classes",permalink:"/CoastTrain/docs/Version 1: March 2022/classes"},next:{title:"Pacific Coast",permalink:"/CoastTrain/docs/Version 1: March 2022/west-coast"}},l=[{value:"Access",id:"access",children:[]},{value:"File description and contents",id:"file-description-and-contents",children:[]},{value:"Unpacking NPZ file contents",id:"unpacking-npz-file-contents",children:[]},{value:"Programmatic workflows to examine dataset",id:"programmatic-workflows-to-examine-dataset",children:[]},{value:"Remapping classes",id:"remapping-classes",children:[]},{value:"Citation",id:"citation",children:[]}],c={toc:l};function d(e){var a=e.components,t=Object(r.a)(e,["components"]);return Object(i.a)("wrapper",Object(n.a)({},c,t,{components:a,mdxType:"MDXLayout"}),Object(i.a)("h2",{id:"access"},"Access"),Object(i.a)("p",null,"Data may be downloaded from the Coastal and Marine Geology Data Service at ",Object(i.a)("a",{parentName:"p",href:"https://cmgds.marine.usgs.gov/data-releases/datarelease/10.5066-P91NP87I/"},"this link")),Object(i.a)("h4",{id:"data-file-links"},"Data file links:"),Object(i.a)("p",null,"Here are links to each individual data set:"),Object(i.a)("ul",null,Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",{parentName:"li",href:"https://cmgds.marine.usgs.gov/data-releases/media/2022/10.5066-P91NP87I/781710b1938b4325893c06b49ecd62a0/Landsat8_11_001.zip"},"Landsat8_11_001.zip")," - 611.3 MB"),Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",{parentName:"li",href:"https://cmgds.marine.usgs.gov/data-releases/media/2022/10.5066-P91NP87I/1bbac87e1b004f81a18ad6660665804b/Landsat8_12_001.zip"},"Landsat8_12_001.zip")," - 12.2 MB"),Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",{parentName:"li",href:"https://cmgds.marine.usgs.gov/data-releases/media/2022/10.5066-P91NP87I/027742f5a4ff43f79e25709578e01ebc/NAIP_11_001.zip"},"NAIP_11_001.zip")," - 4.0 GB"),Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",{parentName:"li",href:"https://cmgds.marine.usgs.gov/data-releases/media/2022/10.5066-P91NP87I/959fb3494be14be7acc653c3434fd1d1/NAIP_6_001.zip"},"NAIP_6_001.zip")," - 141.1 MB"),Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",{parentName:"li",href:"https://cmgds.marine.usgs.gov/data-releases/media/2022/10.5066-P91NP87I/32a2d56bfe7443528103015d8a933407/Orthophoto_12_001.zip"},"Orthophoto_12_001.zip")," - 501.4 MB"),Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",{parentName:"li",href:"https://cmgds.marine.usgs.gov/data-releases/media/2022/10.5066-P91NP87I/62ab99be95f3446aa4401e5f08854d76/Orthophoto_8_001.zip"},"Orthophoto_8_001.zip")," - 1.3 GB"),Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",{parentName:"li",href:"https://cmgds.marine.usgs.gov/data-releases/media/2022/10.5066-P91NP87I/ff925cad3f6e4f92821fd529cf76dd80/Orthophoto_9_001.zip"},"Orthophoto_9_001.zip")," - 1.5 GB"),Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",{parentName:"li",href:"https://cmgds.marine.usgs.gov/data-releases/media/2022/10.5066-P91NP87I/88bc6ad30c9d4def8a0c737af1f6692c/Quadrangles_7_001.zip"},"Quadrangles_7_001.zip")," - 326.4 MB"),Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",{parentName:"li",href:"https://cmgds.marine.usgs.gov/data-releases/media/2022/10.5066-P91NP87I/bdc18f4f38004538af974aa0540d468c/Sentinel2_11_001.zip"},"Sentinel2_11_001.zip")," - 361.6 MB"),Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",{parentName:"li",href:"https://cmgds.marine.usgs.gov/data-releases/media/2022/10.5066-P91NP87I/60838f0cb7dd41fcbb8a5632c1821557/Sentinel2_4_001.zip"},"Sentinel2_4_001.zip")," - 100.8 MB")),Object(i.a)("p",null,"Wget commands:"),Object(i.a)("pre",null,Object(i.a)("code",{parentName:"pre"},"wget https://cmgds.marine.usgs.gov/data-releases/media/2022/10.5066-P91NP87I/781710b1938b4325893c06b49ecd62a0/Landsat8_11_001.zip\nwget https://cmgds.marine.usgs.gov/data-releases/media/2022/10.5066-P91NP87I/1bbac87e1b004f81a18ad6660665804b/Landsat8_12_001.zip\nwget https://cmgds.marine.usgs.gov/data-releases/media/2022/10.5066-P91NP87I/027742f5a4ff43f79e25709578e01ebc/NAIP_11_001.zip\nwget https://cmgds.marine.usgs.gov/data-releases/media/2022/10.5066-P91NP87I/959fb3494be14be7acc653c3434fd1d1/NAIP_6_001.zip\nwget https://cmgds.marine.usgs.gov/data-releases/media/2022/10.5066-P91NP87I/32a2d56bfe7443528103015d8a933407/Orthophoto_12_001.zip\nwget https://cmgds.marine.usgs.gov/data-releases/media/2022/10.5066-P91NP87I/62ab99be95f3446aa4401e5f08854d76/Orthophoto_8_001.zip\nwget https://cmgds.marine.usgs.gov/data-releases/media/2022/10.5066-P91NP87I/ff925cad3f6e4f92821fd529cf76dd80/Orthophoto_9_001.zip\nwget https://cmgds.marine.usgs.gov/data-releases/media/2022/10.5066-P91NP87I/88bc6ad30c9d4def8a0c737af1f6692c/Quadrangles_7_001.zip\nwget https://cmgds.marine.usgs.gov/data-releases/media/2022/10.5066-P91NP87I/bdc18f4f38004538af974aa0540d468c/Sentinel2_11_001.zip\nwget https://cmgds.marine.usgs.gov/data-releases/media/2022/10.5066-P91NP87I/60838f0cb7dd41fcbb8a5632c1821557/Sentinel2_4_001.zip\n")),Object(i.a)("p",null,"This csv lists all files:"),Object(i.a)("ul",null,Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",{parentName:"li",href:"https://cmgds.marine.usgs.gov/data-releases/media/2022/10.5066-P91NP87I/bc506d1667674d5fa183ec30637d6db7/CoastTrain_imagery_details.csv"},"CoastTrain_imagery_details.csv")," - 1.2 MB")),Object(i.a)("h4",{id:"metadata-file-links"},"Metadata file links:"),Object(i.a)("ul",null,Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",{parentName:"li",href:"https://cmgds.marine.usgs.gov/data-releases/media/2022/10.5066-P91NP87I/475f6af324954ef49b53393f4143b2b0/CoastTrain_imagery_details_metadata.xml"},"CoastTrain_imagery_details_metadata.xml")," - 41.5 KB"),Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",{parentName:"li",href:"https://cmgds.marine.usgs.gov/data-releases/media/2022/10.5066-P91NP87I/475f6af324954ef49b53393f4143b2b0/CoastTrain_imagery_details_metadata.txt"},"CoastTrain_imagery_details_metadata.txt")," - 41.5 KB")),Object(i.a)("h2",{id:"file-description-and-contents"},"File description and contents"),Object(i.a)("p",null,"There are 10 data records and each record consists of a single zipped file. The zipped file contains a single csv file containing metadata for each labeled image, and a folder containing .npz format files, one per labeled image. Zipped files follow the following naming convention: {datasource}",Object(i.a)("em",{parentName:"p"},"{numberofclasses}"),"{threedigitdatasetversion}.zip, where "),Object(i.a)("ul",null,Object(i.a)("li",{parentName:"ul"},"{datasource} is the source of the original images (for example, NAIP, Landsat 8, Sentinel 2), "),Object(i.a)("li",{parentName:"ul"},"{numberofclasses} is the number of classes used to annotate the images, and "),Object(i.a)("li",{parentName:"ul"},"{threedigitdatasetversion} is the three-digit code corresponding to the dataset version (in other words, 001 is version 1). ")),Object(i.a)("p",null,"All NPZ files can be extracted using the utilities available in Doodler (Buscombe, 2022; ",Object(i.a)("a",{parentName:"p",href:"https://doi.org/10.5066/P9YVHL23"},"https://doi.org/10.5066/P9YVHL23"),") - see below for more details. An individual NPZ file is named after the image that it represents and contains the following variables"),Object(i.a)("table",null,Object(i.a)("thead",{parentName:"table"},Object(i.a)("tr",{parentName:"thead"},Object(i.a)("th",{parentName:"tr",align:null},"Variable"),Object(i.a)("th",{parentName:"tr",align:"center"},"Description"))),Object(i.a)("tbody",{parentName:"table"},Object(i.a)("tr",{parentName:"tbody"},Object(i.a)("td",{parentName:"tr",align:null},"\u2018image\u2019"),Object(i.a)("td",{parentName:"tr",align:"center"},"Image used by the Doodler program. This is the first 3 bands of \u2018orig_image\u2019")),Object(i.a)("tr",{parentName:"tbody"},Object(i.a)("td",{parentName:"tr",align:null},"\u2018orig_image\u2019"),Object(i.a)("td",{parentName:"tr",align:"center"},"Original 8-bit unsigned integer image read by the Doodler program, that may contain 4 bands.")),Object(i.a)("tr",{parentName:"tbody"},Object(i.a)("td",{parentName:"tr",align:null},"\u2018label\u2019"),Object(i.a)("td",{parentName:"tr",align:"center"},"One-hot-encoded label image (2D raster) in 8-bit unsigned integer. Each integer encodes a class label, incrementing through ",Object(i.a)("inlineCode",{parentName:"td"},"classes")," starting at zero.")),Object(i.a)("tr",{parentName:"tbody"},Object(i.a)("td",{parentName:"tr",align:null},"\u2018color_label\u2019"),Object(i.a)("td",{parentName:"tr",align:"center"},"8-bit unsigned integer 3D (RGB) version of \u2018label\u2019 colorized according to a discrete colormap")),Object(i.a)("tr",{parentName:"tbody"},Object(i.a)("td",{parentName:"tr",align:null},"\u2018color_doodles\u2019"),Object(i.a)("td",{parentName:"tr",align:"center"},"8-bit unsigned integer 3D (RGB) raster of doodles colorized according to a discrete colormap")),Object(i.a)("tr",{parentName:"tbody"},Object(i.a)("td",{parentName:"tr",align:null},"\u2018doodles\u2019"),Object(i.a)("td",{parentName:"tr",align:"center"},"8-bit unsigned integer 2D raster of doodles. It is possible to use Doodler utilities to reconstruct \u2018label\u2019 from \u2018doodles\u2019 and values listed in \u2018settings\u2019")),Object(i.a)("tr",{parentName:"tbody"},Object(i.a)("td",{parentName:"tr",align:null},"\u2018settings\u2019"),Object(i.a)("td",{parentName:"tr",align:"center"},"List of settings used internally by the program, including the final values of the hyperparameters that may have been modified by the labeler")),Object(i.a)("tr",{parentName:"tbody"},Object(i.a)("td",{parentName:"tr",align:null},"\u2018classes\u2019"),Object(i.a)("td",{parentName:"tr",align:"center"},"List of strings, each string a class name")),Object(i.a)("tr",{parentName:"tbody"},Object(i.a)("td",{parentName:"tr",align:null},"0-prefix"),Object(i.a)("td",{parentName:"tr",align:"center"},"The variables \u2018label\u2019, \u2018doodles\u2019, and \u2018color_doodles\u2019 may have one or several prefix zeros, the number of which indicate the order of the previous trial. Variables without a zero prefix are always the final versions.")))),Object(i.a)("p",null,"We provide codes to extract all images and labels and other information using utility scripts packaged with  the Doodler program. Labels are reproducible; it is possible to use Doodler to reconstruct all the labeled imagery from the original sparse annotations (or \u2018doodles\u2019) that are recorded to file. "),Object(i.a)("h2",{id:"unpacking-npz-file-contents"},"Unpacking NPZ file contents"),Object(i.a)("p",null,"The following instructions will allow you to unpack the contents of each .npz file to visualize the imagery, label imagery, and sparse annotations of ",Object(i.a)("inlineCode",{parentName:"p"},"doodles")," that made the labels, as jpeg format files viewable on your desktop."),Object(i.a)("p",null,"To do this we need the software ",Object(i.a)("a",{parentName:"p",href:"https://github.com/Doodleverse/dash_doodler"},"Doodler"),". Check out the installation guide on the ",Object(i.a)("a",{parentName:"p",href:"https://doodleverse.github.io/dash_doodler/"},"Doodler website"),"."),Object(i.a)("p",null,"In a nutshell, download the code"),Object(i.a)("pre",null,Object(i.a)("code",{parentName:"pre"},"git clone --depth 1 https://github.com/dbuscombe-usgs/dash_doodler.git\n")),Object(i.a)("p",null,"Make a conda environment"),Object(i.a)("pre",null,Object(i.a)("code",{parentName:"pre"},"conda env create --file install/dashdoodler-clean.yml\nconda activate dashdoodler\n")),Object(i.a)("pre",null,Object(i.a)("code",{parentName:"pre"},"cd utils\npython gen_images_and_labels.py\n")),Object(i.a)("p",null,"The program will prompt you to ",Object(i.a)("inlineCode",{parentName:"p"},"Select directory of results (annotations)")," which is the folder of npz files. For each npz file, it will create a jpeg file ",Object(i.a)("inlineCode",{parentName:"p"},"_label.jpg")," showing the greyscale label, an overlay ",Object(i.a)("inlineCode",{parentName:"p"},"_overlay.png")," file showing the image overlain with a color label mask, and color sparse annotations or doodles ",Object(i.a)("inlineCode",{parentName:"p"},"_doodles.png"),"."),Object(i.a)("p",null,"The images and greyscale label images can be used with ",Object(i.a)("a",{parentName:"p",href:"https://github.com/Doodleverse/segmentation_gym"},"Segmentation Gym")," to create deep-learning-based image segmentation models."),Object(i.a)("h2",{id:"programmatic-workflows-to-examine-dataset"},"Programmatic workflows to examine dataset"),Object(i.a)("p",null,"You may examine the contents of the Coast Train version 1 programmatically using a collections of python scripts and ipython notebooks hosted in ",Object(i.a)("a",{parentName:"p",href:"https://github.com/dbuscombe-usgs/CoastTrainMetaPlots"},"this github repository"),". There are 4 notebooks:"),Object(i.a)("ol",null,Object(i.a)("li",{parentName:"ol"},Object(i.a)("a",{parentName:"li",href:"https://github.com/dbuscombe-usgs/CoastTrainMetaPlots/tree/main/notebooks"},"plot_class_distribution.ipynb"))),Object(i.a)("p",null,"Allows analysis of the class-image distributions for each data record in turn and overall. Generates the following plots:"),Object(i.a)("ol",{start:2},Object(i.a)("li",{parentName:"ol"},Object(i.a)("a",{parentName:"li",href:"https://github.com/dbuscombe-usgs/CoastTrainMetaPlots/tree/main/notebooks"},"plot_geographic_distribution.ipynb"))),Object(i.a)("p",null,"Allows analysis of the geographic-image distributions for each data record in turn and overall. Generates the following plots:"),Object(i.a)("ol",{start:3},Object(i.a)("li",{parentName:"ol"},Object(i.a)("a",{parentName:"li",href:"https://github.com/dbuscombe-usgs/CoastTrainMetaPlots/tree/main/notebooks"},"plot_user_distribution.ipynb"))),Object(i.a)("p",null,"Allows analysis of the anonymized labeler-image distributions for each data record in turn and overall. Generates the following plots:"),Object(i.a)("ol",{start:4},Object(i.a)("li",{parentName:"ol"},Object(i.a)("a",{parentName:"li",href:"https://github.com/dbuscombe-usgs/CoastTrainMetaPlots/tree/main/notebooks"},"plot_image_locations.ipynb"))),Object(i.a)("p",null,"This notebook simply allows you to visualize where each image is located on a map, one by one"),Object(i.a)("h2",{id:"remapping-classes"},"Remapping classes"),Object(i.a)("p",null,"Classes in the labeled imagery can optionally be remapped. Datasets for image segmentation come with labels from pre-determined class sets. Those classes may be merged, split or otherwise remapped from one set of classes to another, depending on the intended application. For example, if the integer 1 is used to encode the class label ",Object(i.a)("inlineCode",{parentName:"p"},"ocean', and the integer 2 is used to denote "),"river', those two classes might be merged such that integers 1 and 2 both denote a third common class, `water'."),Object(i.a)("p",null,"We provide ",Object(i.a)("a",{parentName:"p",href:"https://github.com/Doodleverse/dash_doodler/blob/main/utils/gen_remapped_images_and_labels.py"},"this script")," within the Doodler software program for carrying out class remapping of the data"),Object(i.a)("h2",{id:"citation"},"Citation"),Object(i.a)("p",null,"If you find the dataset useful please consider citing our work:"),Object(i.a)("p",null,"Buscombe, D., Wernette, P.A.,Fitzpatrick, S., Favela, J., Goldstein E.B., and Enwright, N.M. (in review). A 1.2 Billion Pixel Human-Labeled Dataset for Data-Driven Classification of Coastal Environments. Intended for Scientific Data"),Object(i.a)("p",null,"Wernette, P.A., Buscombe, D.D., Favela, J., Fitzpatrick, S., and Goldstein E. (2022). Coast Train--Labeled imagery for training and evaluation of data-driven models for image segmentation: U.S. Geological Survey data release, ",Object(i.a)("a",{parentName:"p",href:"https://doi.org/10.5066/P91NP87I"},"https://doi.org/10.5066/P91NP87I")))}d.isMDXComponent=!0}}]);